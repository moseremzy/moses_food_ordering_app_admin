"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[466],{5724:function(e,r,a){a.d(r,{A:function(){return w}});a(8992),a(2577);var l=a(6768),t=a(144),n=a(5130),o=a(4232),i=a(8238),s=a(8294),c=a(6807);const u={class:"add-item-form-container"},d={class:"form-title"},p={class:"add-item-form"},m={class:"form-group"},_={class:"err"},k={class:"form-group"},v={class:"err"},f={class:"form-group"},g={class:"form-group"},L={class:"err"},y={key:0,class:"form-group"},b={class:"err"},h={class:"form-group"},R={class:"err"},E={class:"form-group"};var I={__name:"AddItems",setup(e){const r=(0,i.j)(),a=(0,s.e)();let I=(0,t.KR)(null),C=(0,t.KR)(""),A=(0,t.Kh)({name:"",price:"",description:"",category:"",sub_category:""}),w=(0,t.Kh)({name_err:"",price_err:"",description_err:"",category_err:"",sub_category_err:"",image_err:""});function N(){let e=/^[A-Za-z\s]+$/;if(""===A.name)w.name_err="Please fill the field";else{if(e.test(A.name))return w.name_err="",!0;w.name_err="Item name can only contain letters and spaces"}}function S(){if(""!==A.price)return w.price_err="",!0;w.price_err="Please fill field"}function x(){if(""!==A.category&&"Select Category"!=A.category)return"africana"!==A.category?(A.sub_category="none",w.category_err="",!0):(w.category_err="",!0);w.category_err="Please fill field"}function F(){if(""!==A.sub_category&&"Select Sub Category"!=A.sub_category)return w.sub_category_err="",!0;w.sub_category_err="Please fill field"}function O(){if(!(A.description.length>=200))return I.value.attributes[2].nodeValue="color: gray;",!0;A.description=A.description.slice(0,200),I.value.attributes[2].nodeValue="color: red;"}function W(){return a.items.find((e=>e.name===A.name.toLowerCase()))}async function D(e){if(N()&&S()&&x()&&F()&&O()){if(W())return r.backend_message="Item already exists",void r.display_error_alert_box();const e=C.value;if(!e.files[0])return r.backend_message="Please upload an image",void r.display_error_alert_box();if("image/png"!=e.files[0].type&&"image/jpeg"!=e.files[0].type&&"image/jpg"!=e.files[0].type)return r.backend_message="Invalid file",void r.display_error_alert_box();if(e.files[0].size>5242880)return r.backend_message="image cannot be larger than 5mb",void r.display_error_alert_box();const t=new FormData;t.append("name",A.name),t.append("price",A.price),t.append("description",A.description),t.append("category",A.category),t.append("sub_category",A.sub_category),t.append("image",e.files[0]),r.toggle_loading_overlay(!0);try{const e=await c.A.upload_items(t);"success"===e.message?(await a.fetch_items(),T(),r.backend_message="Item uploaded successfully",r.display_success_alert_box()):(r.backend_message="Error occurred, please try again",r.display_error_alert_box())}catch(l){r.backend_message="Error occurred, please try again",r.display_error_alert_box()}finally{r.toggle_loading_overlay(!1)}}}function T(){A.name="",A.price="",A.description="",A.category="",C.value.value=null}return(0,l.$u)((()=>{N(),S(),O(),x(),F()})),(e,r)=>((0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("h2",d,[(0,l.RG)(e.$slots,"form-title")]),(0,l.Lk)("form",p,[(0,l.Lk)("div",m,[r[5]||(r[5]=(0,l.Lk)("label",{for:"item-name",class:"form-label"},"Item Name",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",id:"item-name","onUpdate:modelValue":r[0]||(r[0]=e=>(0,t.R1)(A).name=e),class:"form-input",placeholder:"Enter item name",required:""},null,512),[[n.Jo,(0,t.R1)(A).name]]),(0,l.Lk)("p",_,(0,o.v_)((0,t.R1)(w).name_err),1)]),(0,l.Lk)("div",k,[r[6]||(r[6]=(0,l.Lk)("label",{for:"item-price",class:"form-label"},"Item Price",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number","onUpdate:modelValue":r[1]||(r[1]=e=>(0,t.R1)(A).price=e),id:"item-price",class:"form-input",placeholder:"Enter item price",required:""},null,512),[[n.Jo,(0,t.R1)(A).price]]),(0,l.Lk)("p",v,(0,o.v_)((0,t.R1)(w).price_err),1)]),(0,l.Lk)("div",f,[r[7]||(r[7]=(0,l.Lk)("label",{for:"item-description",class:"form-label"},"Item Description",-1)),(0,l.bo)((0,l.Lk)("textarea",{id:"item-description","onUpdate:modelValue":r[2]||(r[2]=e=>(0,t.R1)(A).description=e),class:"form-input",placeholder:"Enter item description",rows:"4",required:""},null,512),[[n.Jo,(0,t.R1)(A).description]]),(0,l.Lk)("p",{class:"err",style:{color:"gray"},ref_key:"description_counter",ref:I},(0,o.v_)((0,t.R1)(A).description.length)+"/200 characters",513)]),(0,l.Lk)("div",g,[r[9]||(r[9]=(0,l.Lk)("label",{for:"item-category",class:"form-label"},"Item Category",-1)),(0,l.bo)((0,l.Lk)("select",{id:"item-category","onUpdate:modelValue":r[3]||(r[3]=e=>(0,t.R1)(A).category=e),class:"form-input",required:""},r[8]||(r[8]=[(0,l.Fv)('<option value="" data-v-3f8f3374>Select Category</option><option value="meals/sides" data-v-3f8f3374>Meals/sides</option><option value="africana" data-v-3f8f3374>Africana Dish</option><option value="drinks" data-v-3f8f3374>Drinks</option><option value="bread" data-v-3f8f3374>Bread</option><option value="cakes" data-v-3f8f3374>Cakes</option><option value="snacks" data-v-3f8f3374>Snacks</option>',7)]),512),[[n.u1,(0,t.R1)(A).category]]),(0,l.Lk)("p",L,(0,o.v_)((0,t.R1)(w).category_err),1)]),"africana"===(0,t.R1)(A).category?((0,l.uX)(),(0,l.CE)("div",y,[r[11]||(r[11]=(0,l.Lk)("label",{for:"item-category",class:"form-label"},"Sub Category",-1)),(0,l.bo)((0,l.Lk)("select",{id:"item-category","onUpdate:modelValue":r[4]||(r[4]=e=>(0,t.R1)(A).sub_category=e),class:"form-input",required:""},r[10]||(r[10]=[(0,l.Lk)("option",{value:""},"Select Sub Category",-1),(0,l.Lk)("option",{value:"swallow"},"Swallow",-1),(0,l.Lk)("option",{value:"soup"},"Soup",-1),(0,l.Lk)("option",{value:"none"},"None",-1)]),512),[[n.u1,(0,t.R1)(A).sub_category]]),(0,l.Lk)("p",b,(0,o.v_)((0,t.R1)(w).sub_category_err),1)])):(0,l.Q3)("",!0),(0,l.Lk)("div",h,[r[12]||(r[12]=(0,l.Lk)("label",{for:"item-image",class:"form-label"},"Upload Item Image",-1)),(0,l.Lk)("input",{type:"file",id:"item-image",class:"form-input",ref_key:"itemImage",ref:C,accept:"image/*",required:""},null,512),(0,l.Lk)("p",R,(0,o.v_)((0,t.R1)(w).image_err.category_err),1)]),(0,l.Lk)("div",E,[(0,l.Lk)("button",{type:"submit",onClick:(0,n.D$)(D,["prevent"]),class:"submit-button"},[(0,l.RG)(e.$slots,"button-title")])])])]))}},C=a(1241);const A=(0,C.A)(I,[["__scopeId","data-v-3f8f3374"]]);var w=A},3948:function(e,r,a){a.r(r),a.d(r,{default:function(){return j}});a(4114),a(8992),a(2577);var l=a(6768),t=a(4232),n=a(144),o=a(1387),i=a(1380),s=a(2910),c=a(8238),u=a(4621),d={__name:"CancelOrder",props:{order:Object},setup(e){(0,u.e)();const r=(0,c.j)(),a=e,{order:t}=(0,n.QW)(a);function o(e){r.toggle_cancel_order_modal(!0,{id:e.order_id,user_id:e.user_id,customer_name:e.customer_name,customer_email:e.customer_email})}return(e,r)=>((0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(s.A),(0,l.Lk)("button",{id:"reject",onClick:r[0]||(r[0]=e=>o((0,n.R1)(t)))},"Cancel Order")]))}},p=a(1241);const m=(0,p.A)(d,[["__scopeId","data-v-c4c2a808"]]);var _=m,k=a(8765),v=a(686),f=(a(1684),a(9195)),g=(a(5724),a(4549)),L=a(9336);const y={id:"receipt",class:"receipt"},b={class:"summary"};var h={__name:"Receipt",props:{order:{type:Object,required:!0}},setup(e){const r=(0,g.g)(),a=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e),o=()=>{const e=document.getElementById("receipt").innerHTML,r="\n    <style>\n      body { font-family: Arial, sans-serif; margin: 0; }\n      .receipt { max-width: 300px; margin: auto; padding: 10px; }\n      .receipt h1 { font-size: 16px; text-align: center; }\n      .receipt p, .receipt table { margin-top: 5px; }\n      table { width: 100%; border-collapse: collapse; }\n      th, td { padding: 4px; text-align: left; }\n    </style>\n  ",a=window.open("","_blank");a.document.write(`\n    <html>\n      <head>\n        <title>Receipt</title>\n        ${r}\n      </head>\n      <body>${e}</body>\n    </html>\n  `),a.document.close(),a.print()};return(i,s)=>((0,l.uX)(),(0,l.CE)("div",y,[s[7]||(s[7]=(0,l.Lk)("header",null,[(0,l.Lk)("h1",null,"Taste It"),(0,l.Lk)("p",null,[(0,l.Lk)("strong",null,"Phone:"),(0,l.eW)(" +234 7063131606")]),(0,l.Lk)("p",null,[(0,l.Lk)("strong",null,"Email:"),(0,l.eW)(" support@kelvinspice.com.ng")]),(0,l.Lk)("p",null,[(0,l.Lk)("strong",null,"Website:"),(0,l.eW)(),(0,l.Lk)("a",{href:"https://mosesfoodorderingapp.kelvinspice.com.ng",target:"_blank"},"www.mosesfoodorderingapp.kelvinspice.com.ng/")]),(0,l.Lk)("hr")],-1)),(0,l.Lk)("section",null,[(0,l.Lk)("p",null,[s[0]||(s[0]=(0,l.Lk)("strong",null,"Order ID:",-1)),(0,l.eW)(" #"+(0,t.v_)(e.order.order_id),1)]),(0,l.Lk)("p",null,[s[1]||(s[1]=(0,l.Lk)("strong",null,"Confirmation Pin:",-1)),(0,l.eW)(" "+(0,t.v_)(e.order.confirmation_pin),1)]),(0,l.Lk)("p",null,[s[2]||(s[2]=(0,l.Lk)("strong",null,"Date:",-1)),(0,l.eW)(" "+(0,t.v_)((0,n.R1)(L.A).formatted_date(e.order.date_created)),1)])]),(0,l.Lk)("table",null,[s[3]||(s[3]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Item"),(0,l.Lk)("th",null,"Quantity"),(0,l.Lk)("th",null,"Price")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(JSON.parse(e.order.items),(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.name},[(0,l.Lk)("td",null,(0,t.v_)(e.name),1),(0,l.Lk)("td",null,(0,t.v_)(e.quantity),1),(0,l.Lk)("td",null,(0,t.v_)(a(e.total)),1)])))),128))])]),(0,l.Lk)("section",b,[(0,l.Lk)("p",null,[s[4]||(s[4]=(0,l.Lk)("strong",null,"Subtotal:",-1)),(0,l.eW)(" "+(0,t.v_)(a(e.order.sub_total_order_cost)),1)]),(0,l.Lk)("p",null,[s[5]||(s[5]=(0,l.Lk)("strong",null,"Service Fee:",-1)),(0,l.eW)(" "+(0,t.v_)(a((0,n.R1)(r).website_info.service_fee)),1)]),(0,l.Lk)("p",null,[s[6]||(s[6]=(0,l.Lk)("strong",null,"Total:",-1)),(0,l.eW)(" "+(0,t.v_)(a(e.order.total_order_cost)),1)])]),(0,l.Lk)("button",{onClick:o},"Print")]))}};const R=(0,p.A)(h,[["__scopeId","data-v-0fe19285"]]);var E=R,I=a(1556);const C={class:"flex_container"},A={class:"order_details"},w={class:"order_items"},N={class:"menu-items"},S={class:"item-image"},x=["src","alt"],F={class:"item-details"},O={class:"item-name"},W={class:"item-price"},D={style:{float:"right"}},T={style:{float:"right"}},P={class:"user_details"},X={class:"grid"},G={class:"grid"},q={class:"grid"},U={class:"grid"};var V={__name:"View-Order",setup(e){const r=(0,o.lq)(),a=(0,o.rd)(),s=(0,u.e)(),d=(0,c.j)(),p=(0,g.g)();p.admin_isAuthenticated||a.push({path:"/login"}),(0,l.wB)((()=>p.admin_isAuthenticated),(e=>{e||(d.backend_message="session expired",d.display_success_alert_box(!0),setTimeout((()=>{a.push({path:"/login"})}),1e3))}));const m=(0,l.EW)((()=>s.orders.find((e=>e.order_id===r.params.order_id))));m||a.push({name:"dashboard"});const y=(0,n.KR)(null),b=e=>{y.value=e};return(e,r)=>{const a=(0,l.g2)("SUCCESSALERTBOX"),o=(0,l.g2)("ERRORALERTBOX"),s=(0,l.g2)("font-awesome-icon");return(0,l.uX)(),(0,l.CE)("div",{class:"container",style:(0,t.Tr)((0,n.R1)(d).container_css)},[(0,l.bF)(v.A),(0,l.bF)(a,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)((0,n.R1)(d).backend_message),1)])),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,t.v_)((0,n.R1)(d).backend_message),1)])),_:1}),(0,l.bF)(I.A),(0,l.Lk)("div",{class:"sub_container",style:(0,t.Tr)((0,n.R1)(d).sub_container_css)},[(0,l.bF)(i.A),(0,l.Lk)("h1",null,"Order ID - "+(0,t.v_)(m.value.order_id),1),"Pending"==m.value.status?((0,l.uX)(),(0,l.Wv)(k.A,{key:0,order:m.value},null,8,["order"])):((0,l.uX)(),(0,l.Wv)(f.A,{key:1,order:m.value},null,8,["order"])),(0,l.Lk)("div",C,[(0,l.Lk)("div",A,[(0,l.Lk)("div",null,[r[1]||(r[1]=(0,l.Lk)("h2",null,"ORDER DATE",-1)),(0,l.Lk)("p",null,(0,t.v_)((0,n.R1)(L.A).formatted_date(m.value.date_created)),1)]),(0,l.Lk)("div",null,[r[2]||(r[2]=(0,l.Lk)("h2",null,"PAYMENT METHOD",-1)),(0,l.Lk)("p",null,(0,t.v_)(m.value.payment_method),1)]),(0,l.Lk)("div",null,[r[3]||(r[3]=(0,l.Lk)("h2",null,"CONFIRMATION PIN",-1)),(0,l.Lk)("p",null,(0,t.v_)(m.value.confirmation_pin),1)]),(0,l.Lk)("div",null,[r[4]||(r[4]=(0,l.Lk)("h2",null,"DELIVERY ADDRESSS",-1)),(0,l.Lk)("p",null,(0,t.v_)(m.value.delivery_address),1)])]),(0,l.Lk)("div",w,[r[7]||(r[7]=(0,l.Lk)("h2",null,"FOOD ITEMS",-1)),(0,l.Lk)("div",N,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(JSON.parse(m.value.items),(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.name,class:"menu-item"},[(0,l.Lk)("div",S,[(0,l.Lk)("img",{src:"https://admin.kelvinspice.com.ng/images/"+e.image,alt:e.name},null,8,x)]),(0,l.Lk)("div",F,[(0,l.Lk)("h3",O,(0,t.v_)(e.name)+" x "+(0,t.v_)(e.quantity),1),(0,l.Lk)("p",W,(0,t.v_)(new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e.total)),1)])])))),128))]),(0,l.Lk)("h1",null,[r[5]||(r[5]=(0,l.eW)("SUB TOTAL PRICE: ")),(0,l.Lk)("b",D,(0,t.v_)(new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(m.value.sub_total_order_cost)),1)]),(0,l.Lk)("h1",null,[r[6]||(r[6]=(0,l.eW)("TOTAL PRICE: ")),(0,l.Lk)("b",T,(0,t.v_)(new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(m.value.total_order_cost)),1)])]),(0,l.Lk)("div",P,[(0,l.Lk)("div",X,[(0,l.Lk)("div",null,[r[8]||(r[8]=(0,l.Lk)("h2",null,"USER NAME",-1)),(0,l.Lk)("p",null,(0,t.v_)(m.value.customer_name),1)]),(0,l.Lk)("div",null,[(0,l.bF)(s,{class:"fa-solid fa-user icons",icon:"fa-solid fa-user"})])]),(0,l.Lk)("div",G,[(0,l.Lk)("div",null,[r[9]||(r[9]=(0,l.Lk)("h2",null,"EMAIL",-1)),(0,l.Lk)("p",null,(0,t.v_)(m.value.email),1)]),(0,l.Lk)("div",null,[(0,l.bF)(s,{class:"fa-solid fa-message icons",icon:"fa-solid fa-message"})])]),(0,l.Lk)("div",q,[(0,l.Lk)("div",null,[r[10]||(r[10]=(0,l.Lk)("h2",null,"PHONE NUMBER",-1)),(0,l.Lk)("p",null,(0,t.v_)(m.value.phone),1)]),(0,l.Lk)("div",null,[(0,l.bF)(s,{class:"fa-solid fa-phone icons",icon:"fa-solid fa-phone"})])]),(0,l.Lk)("div",U,[(0,l.Lk)("div",null,[r[11]||(r[11]=(0,l.Lk)("h2",null,"DELIVERY ADDRESS",-1)),(0,l.Lk)("p",null,(0,t.v_)(m.value.delivery_address),1)]),(0,l.Lk)("div",null,[(0,l.bF)(s,{class:"fa-solid fa-location icons",icon:"fa-solid fa-location"})])])]),(0,l.Lk)("div",null,[y.value?((0,l.uX)(),(0,l.Wv)(E,{key:0,order:y.value},null,8,["order"])):(0,l.Q3)("",!0)])]),(0,l.Lk)("button",{onClick:r[0]||(r[0]=e=>b(m.value)),class:"generate-receipt-btn"},"Generate Receipt"),"Delivered"!=m.value.status&&"Cancelled"!=m.value.status?((0,l.uX)(),(0,l.Wv)(_,{key:2,order:m.value},null,8,["order"])):(0,l.Q3)("",!0)],4)],4)}}};const M=(0,p.A)(V,[["__scopeId","data-v-322417c5"]]);var j=M}}]);
//# sourceMappingURL=466.3516212c.js.map