"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[963],{9963:function(e,s,a){a.r(s),a.d(s,{default:function(){return R}});a(4114);var r=a(6768),n=a(4232),o=a(144),l=a(5130),d=a(6807),t=a(1387),i=a(3259),u=a(5933),p=a(8238),w=a(4549);const _={id:"body"},c={class:"create_pass_form"},f={class:"err"},m={class:"err"},v=["disabled"];var k={__name:"New-Password",setup(e){const s=(0,w.g)(),a=(0,p.j)(),k=(0,t.lq)(),b=(0,t.rd)();(0,o.KR)(!1);let h=(0,o.KR)(!1),R=(0,o.KR)(!1),y=(0,o.KR)(""),g=(0,o.Kh)({password:"",new_password:"",token:k.params.id}),L=(0,o.Kh)({password_err:"",new_password_err:""});function P(){let e=g.password.length;if(""===g.password)L.password_err="Please fill field";else{if(!(e<7||e>15))return L.password_err="",!0;L.password_err="Must be between 7 and 15 characters long"}}function A(){if(g.new_password===g.password)return L.new_password_err="",!0;L.new_password_err="Must match password"}async function C(){if(P()&&A()){h.value=!0,R.value=!0;const e=await d.A.reset_password(g);"Password modified"===e.message?(R.value=!1,h.value=!1,y.value="Password Reset Successful",a.display_success_alert_box(),b.push({path:"/login"})):"Invalid token"===e.message?(y.value="Invalid token",a.display_error_alert_box(),R.value=!1,h.value=!1):(y.value="An error occured, try again later",a.display_error_alert_box(),R.value=!1,h.value=!1)}}return g.token=k.params.id,s.admin_isAuthenticated&&b.push({name:"home"}),(0,r.$u)((()=>{P(),A()})),(e,s)=>{const a=(0,r.g2)("font-awesome-icon");return(0,r.uX)(),(0,r.CE)("div",_,[(0,r.bF)(i.A,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)((0,o.R1)(y)),1)])),_:1}),(0,r.bF)(u.A,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)((0,o.R1)(y)),1)])),_:1}),(0,r.Lk)("div",c,[s[3]||(s[3]=(0,r.Lk)("h1",null,"Create New Password",-1)),(0,r.Lk)("form",null,[(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":s[0]||(s[0]=e=>(0,o.R1)(g).password=e),name:"email",id:"email",placeholder:"New Password"},null,512),[[l.Jo,(0,o.R1)(g).password]]),(0,r.Lk)("small",f,(0,n.v_)((0,o.R1)(L).password_err),1),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=e=>(0,o.R1)(g).new_password=e),name:"email",id:"email",placeholder:"Confirm Password"},null,512),[[l.Jo,(0,o.R1)(g).new_password]]),(0,r.Lk)("small",m,(0,n.v_)((0,o.R1)(L).new_password_err),1),(0,r.Lk)("button",{type:"submit",onClick:(0,l.D$)(C,["prevent"]),id:"loginbtn",disabled:(0,o.R1)(R)},[(0,o.R1)(h)?((0,r.uX)(),(0,r.Wv)(a,{key:0,class:"fa-solid fa-spinner fa-spin",id:"spinner",icon:"fa-solid fa-spinner"})):(0,r.Q3)("",!0),s[2]||(s[2]=(0,r.eW)(" Submit"))],8,v)])])])}}},b=a(1241);const h=(0,b.A)(k,[["__scopeId","data-v-ad104e08"]]);var R=h}}]);
//# sourceMappingURL=963.2d80575f.js.map