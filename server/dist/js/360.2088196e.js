(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[360],{1576:function(e){!function(t,r){e.exports=r()}(0,(function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",a="second",s="minute",o="hour",i="day",u="week",c="month",l="quarter",d="year",f="date",h="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},g=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},y={s:g,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),a=r%60;return(t<=0?"+":"-")+g(n,2,"0")+":"+g(a,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),a=t.clone().add(n,c),s=r-a<0,o=t.clone().add(n+(s?-1:1),c);return+(-(n+(r-a)/(s?a-o:o-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:u,d:i,D:f,h:o,m:s,s:a,ms:n,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},p="en",b={};b[p]=m;var $="$isDayjsObject",k=function(e){return e instanceof Y||!(!e||!e[$])},D=function e(t,r,n){var a;if(!t)return p;if("string"==typeof t){var s=t.toLowerCase();b[s]&&(a=s),r&&(b[s]=r,a=s);var o=t.split("-");if(!a&&o.length>1)return e(o[0])}else{var i=t.name;b[i]=t,a=i}return!n&&a&&(p=a),a||!n&&p},M=function(e,t){if(k(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new Y(r)},w=y;w.l=D,w.i=k,w.w=function(e,t){return M(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var Y=function(){function m(e){this.$L=D(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[$]=!0}var g=m.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(v);if(n){var a=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return w},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var r=M(e);return this.startOf(t)<=r&&r<=this.endOf(t)},g.isAfter=function(e,t){return M(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<M(e)},g.$g=function(e,t,r){return w.u(e)?this[t]:this.set(r,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var r=this,n=!!w.u(t)||t,l=w.p(e),h=function(e,t){var a=w.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?a:a.endOf(i)},v=function(e,t){return w.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},_=this.$W,m=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case d:return n?h(1,0):h(31,11);case c:return n?h(1,m):h(0,m+1);case u:var p=this.$locale().weekStart||0,b=(_<p?_+7:_)-p;return h(n?g-b:g+(6-b),m);case i:case f:return v(y+"Hours",0);case o:return v(y+"Minutes",1);case s:return v(y+"Seconds",2);case a:return v(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var r,u=w.p(e),l="set"+(this.$u?"UTC":""),h=(r={},r[i]=l+"Date",r[f]=l+"Date",r[c]=l+"Month",r[d]=l+"FullYear",r[o]=l+"Hours",r[s]=l+"Minutes",r[a]=l+"Seconds",r[n]=l+"Milliseconds",r)[u],v=u===i?this.$D+(t-this.$W):t;if(u===c||u===d){var _=this.clone().set(f,1);_.$d[h](v),_.init(),this.$d=_.set(f,Math.min(this.$D,_.daysInMonth())).$d}else h&&this.$d[h](v);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[w.p(e)]()},g.add=function(n,l){var f,h=this;n=Number(n);var v=w.p(l),_=function(e){var t=M(h);return w.w(t.date(t.date()+Math.round(e*n)),h)};if(v===c)return this.set(c,this.$M+n);if(v===d)return this.set(d,this.$y+n);if(v===i)return _(1);if(v===u)return _(7);var m=(f={},f[s]=t,f[o]=r,f[a]=e,f)[v]||1,g=this.$d.getTime()+n*m;return w.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=e||"YYYY-MM-DDTHH:mm:ssZ",a=w.z(this),s=this.$H,o=this.$m,i=this.$M,u=r.weekdays,c=r.months,l=r.meridiem,d=function(e,r,a,s){return e&&(e[r]||e(t,n))||a[r].slice(0,s)},f=function(e){return w.s(s%12||12,e,"0")},v=l||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(_,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return w.s(t.$y,4,"0");case"M":return i+1;case"MM":return w.s(i+1,2,"0");case"MMM":return d(r.monthsShort,i,c,3);case"MMMM":return d(c,i);case"D":return t.$D;case"DD":return w.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(r.weekdaysMin,t.$W,u,2);case"ddd":return d(r.weekdaysShort,t.$W,u,3);case"dddd":return u[t.$W];case"H":return String(s);case"HH":return w.s(s,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return v(s,o,!0);case"A":return v(s,o,!1);case"m":return String(o);case"mm":return w.s(o,2,"0");case"s":return String(t.$s);case"ss":return w.s(t.$s,2,"0");case"SSS":return w.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,f,h){var v,_=this,m=w.p(f),g=M(n),y=(g.utcOffset()-this.utcOffset())*t,p=this-g,b=function(){return w.m(_,g)};switch(m){case d:v=b()/12;break;case c:v=b();break;case l:v=b()/3;break;case u:v=(p-y)/6048e5;break;case i:v=(p-y)/864e5;break;case o:v=p/r;break;case s:v=p/t;break;case a:v=p/e;break;default:v=p}return h?v:w.a(v)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=D(e,t,!0);return n&&(r.$L=n),r},g.clone=function(){return w.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),S=Y.prototype;return M.prototype=S,[["$ms",n],["$s",a],["$m",s],["$H",o],["$W",i],["$M",c],["$y",d],["$D",f]].forEach((function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),M.extend=function(e,t){return e.$i||(e(t,Y,M),e.$i=!0),M},M.locale=D,M.isDayjs=k,M.unix=function(e){return M(1e3*e)},M.en=b[p],M.Ls=b,M.p={},M}))},9336:function(e,t,r){"use strict";r.d(t,{A:function(){return s}});r(8992),r(4520),r(3949);var n=r(1576),a=r.n(n);class s{static allowScroll(){setTimeout((()=>{document.getElementById("bdy").style.overflowY="unset"}))}static formatted_date(e){return a()(e).format("MMM DD, YYYY, h:mm A")}static order_by_month(e,t){return e.filter((e=>a()(e.date_created).format("MMM DD, YYYY").split(" ")[0]===t&&a()(e.date_created).format("MMM DD, YYYY").split(" ")[2]==(new Date).getFullYear())).length}static revenue_by_month(e,t){let r=0;return e.forEach((e=>{"Delivered"===e.status&&a()(e.date_created).format("MMM DD, YYYY").split(" ")[2]==(new Date).getFullYear()&&a()(e.date_created).format("MMM DD, YYYY").split(" ")[0]===t&&(r+=e.total_order_cost)})),r}}},2910:function(e,t,r){"use strict";r.d(t,{A:function(){return M}});var n=r(6768),a=r(144),s=r(4232),o=r(5130),i=r(8238),u=r(4549),c=r(4621),l=r(6807);const d={class:"cancel_container"},f={key:0,class:"modal fade in",id:"myModal",role:"dialog",style:{display:"block",top:"20%"}},h={class:"modal-dialog"},v={class:"modal-content"},_={class:"modal-header"},m={class:"modal-title"},g={class:"modal-body"},y={class:"err"},p={class:"modal-footer"},b=["disabled"];var $={__name:"cancel_order_modal",setup(e){const t=(0,c.e)(),r=(0,i.j)();(0,u.g)();let $=(0,a.KR)(""),k=(0,a.KR)(""),D=(0,a.KR)(!1),M=(0,a.KR)(!1),w=(0,a.KR)(null);(0,a.KR)("");function Y(){if($.value.length>=300)$.value=$.value.slice(0,300),w.value.attributes[2].nodeValue="color: red;";else{if(!($.value.length<1))return k.value="",w.value&&(w.value.attributes[2].nodeValue="color: gray;"),!0;k.value="field cannot be empty"}}async function S(e){if(Y()){const n={...r.cancel_order_data,description:$.value};M.value=!0,e.target.innerText="Cancelling Order...";const a=await l.A.cancel_order(n);"success"===a.message?(r.backend_message="Order Cancelled Successfully",r.toggle_cancel_order_modal(!1,null),r.display_success_alert_box(),e.target.innerText="Submit",M.value=!1,await t.fetch_orders()):(r.backend_message="Error occured, please try again",r.toggle_cancel_order_modal(!1,null),r.display_error_alert_box(),e.target.innerText="Submit",M.value=!1),$.value=""}}return(0,n.$u)((()=>{Y()})),(e,t)=>{const i=(0,n.g2)("font-awesome-icon");return(0,n.uX)(),(0,n.CE)("div",d,[(0,a.R1)(r).display_cancel_order_modal?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.Lk)("div",h,[(0,n.Lk)("div",v,[(0,n.Lk)("div",_,[(0,n.Lk)("button",{type:"button",class:"close","data-dismiss":"modal",onClick:t[0]||(t[0]=e=>(0,a.R1)(r).toggle_cancel_order_modal(!1,null))},"Ã—"),(0,n.Lk)("h4",m,"Reject Order With ID "+(0,s.v_)((0,a.R1)(r).cancel_order_data.id),1)]),(0,n.Lk)("div",g,[t[3]||(t[3]=(0,n.Lk)("p",null,"Why do you want to cancel this order?",-1)),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>(0,a.i9)($)?$.value=e:$=e),maxlength:"300",placeholder:"Reason for cancellation"},null,512),[[o.Jo,(0,a.R1)($)]]),(0,n.Lk)("p",{class:"err",style:{color:"gray"},ref_key:"description_counter",ref:w},(0,s.v_)((0,a.R1)($).length)+"/300 characters",513),(0,n.Lk)("p",y,(0,s.v_)((0,a.R1)(k)),1)]),(0,n.Lk)("div",p,[(0,n.Lk)("button",{type:"button",class:"btn btn-default",disabled:(0,a.R1)(M),"data-dismiss":"modal",onClick:(0,o.D$)(S,["prevent"])},[(0,a.R1)(D)?((0,n.uX)(),(0,n.Wv)(i,{key:0,class:"fa-solid fa-spinner fa-spin",id:"spinner",icon:"fa-solid fa-spinner"})):(0,n.Q3)("",!0),t[4]||(t[4]=(0,n.eW)(" Submit"))],8,b)])])])])):(0,n.Q3)("",!0),(0,a.R1)(r).display_cancel_order_modal?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"modal-backdrop",onClick:t[2]||(t[2]=e=>(0,a.R1)(r).toggle_cancel_order_modal(!1,null))})):(0,n.Q3)("",!0)])}}},k=r(1241);const D=(0,k.A)($,[["__scopeId","data-v-55db5d08"]]);var M=D},8765:function(e,t,r){"use strict";r.d(t,{A:function(){return h}});var n=r(6768),a=r(144),s=r(6807),o=r(2910),i=r(8238),u=r(4621);const c={class:"confirm_reject"};var l={__name:"ConfirmRejectStatus",props:{order:Object},setup(e){const t=(0,u.e)(),r=(0,i.j)(),l=e,{order:d}=(0,a.QW)(l);function f(e){r.toggle_cancel_order_modal(!0,{id:e.order_id,user_id:e.user_id,customer_name:e.customer_name,customer_email:e.email})}async function h(e,n){r.toggle_loading_overlay(!0);const a={description:"Your order has been confirmed for processing",id:e,owner_id:n},o=await s.A.confirm_order(a);"success"===o.message?(await t.fetch_orders(),r.toggle_loading_overlay(!1),r.backend_message="Order Confirmed",r.display_success_alert_box()):(r.toggle_loading_overlay(!1),r.backend_message="Error Occured, Please Try Again",r.display_error_alert_box())}return(e,t)=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(o.A),(0,n.Lk)("div",c,[(0,n.Lk)("button",{id:"reject",onClick:t[0]||(t[0]=e=>f((0,a.R1)(d)))},"Reject"),(0,n.Lk)("button",{id:"confirm",onClick:t[1]||(t[1]=e=>h((0,a.R1)(d).order_id,(0,a.R1)(d).user_id))},"Confirm")])]))}},d=r(1241);const f=(0,d.A)(l,[["__scopeId","data-v-7da16560"]]);var h=f},9195:function(e,t,r){"use strict";r.d(t,{A:function(){return v}});var n=r(6768),a=r(4232),s=r(144),o=r(5130),i=r(6807),u=r(8238);const c={class:"status-filter-container"},l={key:0,style:{color:"red"},value:"Cancelled"};var d={__name:"StatusFilter",props:{order:Object},setup(e){const t=(0,u.j)();let r=(0,s.KR)("");const d=e,{order:f}=(0,s.QW)(d);async function h(){switch(t.toggle_loading_overlay(!0),f.value.status){case"Pending":r.value="Your Order Has Been Recieved And is Awaiting Confirmation.";break;case"Confirmed":r.value="Your Order Has Been Confirmed For Processing.";break;case"Preparing":r.value="Your Order is in Preparation. Our Team is Carefully Preparing it For You.";break;case"Out for Delivery":r.value="Your Order is on its Way! it Will be With You Shortly.";break;case"Delivered":r.value="Your Order Has Arrived! Thank You For Choosing us. We Look Forward to Serving You Again.";break}const e=await i.A.update_order_status({status:f.value.status,order_id:f.value.order_id,description:r.value});"success"===e.message?(t.backend_message="Status Updated Succesfully",t.display_success_alert_box()):(t.backend_message="Error Occured, Try Again",t.display_error_alert_box()),t.toggle_loading_overlay(!1)}const v=(0,n.EW)((()=>{switch(f.value.status){case"Pending":return{color:"gray",border:"1px solid gray"};case"Confirmed":return{color:"#007BFF",border:"1px solid #007BFF"};case"Preparing":return{color:"#FD7E14",border:"1px solid #FD7E14"};case"Out for Delivery":return{color:"#6F42C1",border:"1px solid #6F42C1"};case"Delivered":return{color:"#28A745",border:"1px solid #28A745"};case"Cancelled":return{color:"red",border:"1px solid red"};default:break}}));return(e,t)=>((0,n.uX)(),(0,n.CE)("div",c,[(0,n.bo)((0,n.Lk)("select",{id:"status-filter",style:(0,a.Tr)(v.value),onChange:h,class:"status-filter-select","onUpdate:modelValue":t[0]||(t[0]=e=>(0,s.R1)(f).status=e)},[t[1]||(t[1]=(0,n.Fv)('<option style="color:black;" value="Payment Pending" disabled data-v-76614600>Payment Pending</option><option style="color:black;" value="Payment Failed" disabled data-v-76614600>Payment Failed</option><option style="color:black;" value="Payment Abandoned" disabled data-v-76614600>Payment Abandoned</option><option style="color:black;" value="Payment Reversed" disabled data-v-76614600>Payment Reversed</option><option style="color:gray;" value="Pending" data-v-76614600>Pending</option><option style="color:#007BFF;" value="Confirmed" data-v-76614600>Confirmed</option><option style="color:#FD7E14;" value="Preparing" data-v-76614600>Preparing</option><option style="color:#6F42C1;" value="Out for Delivery" data-v-76614600>Out for Delivery</option><option style="color:#28A745;" value="Delivered" data-v-76614600>Delivered</option>',9)),"Cancelled"==(0,s.R1)(f).status?((0,n.uX)(),(0,n.CE)("option",l,"Cancelled")):(0,n.Q3)("",!0)],36),[[o.u1,(0,s.R1)(f).status]])]))}},f=r(1241);const h=(0,f.A)(d,[["__scopeId","data-v-76614600"]]);var v=h}}]);
//# sourceMappingURL=360.2088196e.js.map